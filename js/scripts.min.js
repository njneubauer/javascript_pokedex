const pokemonRepository=function(){let t=[],e="https://pokeapi.co/api/v2/pokemon/?offset=0&limit=150";const n=document.getElementById("search-bar");function o(e){"object"==typeof e?t.push(e):alert("input not an object")}function i(){let t=document.getElementsByClassName("loading-icon");t[0].parentNode.removeChild(t[0])}function s(t){let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.other.dream_world.front_default,t.id=e.id,t.height=e.height,t.weight=e.weight,t.types=e.types,t.abilities=e.abilities}).catch(function(t){console.error(t)})}function a(t){s(t).then(function(){let e=t.name,n=t.imageUrl,o=t.id,i=Math.round(3.93701*t.height),s=t.weight,a=[],r=[];t.types.forEach(t=>{a.push(t.type.name[0].toUpperCase()+t.type.name.slice(1))}),t.abilities.forEach(t=>{r.push(t.ability.name[0].toUpperCase()+t.ability.name.slice(1))}),function(t,e,n,o,i,s,a){function r(){let t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return t}let l=document.querySelector("#modal-attr");r()<576?l.classList.add("justify-content-center"):l.classList.add("justify-content-start");function c(t){let e=document.createElement("li");e.innerHTML=t;let n=document.getElementById("pokemon-attributes");return n.appendChild(e)}window.addEventListener("resize",function(){r()<576&&(l.classList.remove("justify-content-start"),l.classList.add("justify-content-center"))});let d=document.getElementById("modal-title-label"),u=document.querySelector("#modal-img");d.innerHTML=t,u.src=e,u.setAttribute("width","150px"),u.setAttribute("height","auto"),c(`<strong>Pok&eacute;dex ID:</strong> <span>${n}</span>`),c(`<strong>Height:</strong> <span>${o} inches</span>`),c(`<strong>Weight:</strong> <span>${i} lbs</span>`),c(`<strong>Types:</strong> <span>${a.join(" & ")}</span>`),c(`<strong>Abilities:</strong> <span>${s.join(", ")}</span>`).classList.add("abilities")}(e,n,o,i,s,r,a)})}return n.addEventListener("input",function(){let t=document.querySelectorAll(".list-group-item"),e=n.value.toLowerCase();t.forEach(t=>{let n=t.textContent.toLowerCase();n.indexOf(e)>-1?t.style.display="":t.style.display="none"})}),document.querySelector("#searchbar-form").addEventListener("submit",function(t){t.preventDefault()}),document.getElementById("reset-btn").addEventListener("click",function(){n.value="",document.querySelectorAll(".list-group-item").forEach(function(t){t.style.display=""})}),document.getElementById("modal").addEventListener("hidden.bs.modal",()=>{let t=document.querySelector("#modal-img");document.querySelector("#pokemon-attributes").innerHTML="",t.src=""}),{addPokemon:o,getAll:function(){return t},addButtons:function(t){let e=t.name,n=document.getElementById("pokemon-btn-list");n.classList.add("row","row-cols-auto");let o=document.createElement("li");o.classList.add("list-group-item","col");let i=document.createElement("button");i.classList.add("btn","btn-styles"),i.setAttribute("data-bs-toggle","modal"),i.setAttribute("data-bs-target","#modal"),i.addEventListener("click",function(){a(t)}),i.innerText=e,o.appendChild(i),n.appendChild(o)},showDetails:a,loadList:function(){return function(){let t=document.createElement("img");t.src="img/gifs/BeanEater200px.gif",t.className="loading-icon",document.getElementById("body").appendChild(t)}(),fetch(e).then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){o({name:t.name,detailsUrl:t.url})}),i()}).catch(function(t){i(),console.error(t)})},loadDetails:s}}();function sortListAZ(t){return t.sort(function(t,e){let n=t.name,o=e.name;return n<o?-1:n>o?1:0})}pokemonRepository.loadList().then(function(){sortListAZ(pokemonRepository.getAll()).forEach(function(t){pokemonRepository.addButtons(t)})});